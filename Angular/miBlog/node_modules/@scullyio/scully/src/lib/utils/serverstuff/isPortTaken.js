"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isPortTaken = void 0;
const net_1 = require("net");
exports.isPortTaken = (usedPort) => new Promise((resolve, reject) => {
    const tester = net_1.createServer()
        .once('error', err => {
        // tslint:disable-next-line: no-string-literal
        if (err['code'] !== 'EADDRINUSE') {
            reject(err);
            return;
        }
        resolve(true);
        return;
    })
        .once('listening', () => {
        tester
            .once('close', () => {
            resolve(false);
        })
            .close();
    })
        .listen(usedPort);
});
//# sourceMappingURL=isPortTaken.js.map