"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handleRouteDiscoveryDone = void 0;
const perf_hooks_1 = require("perf_hooks");
const pluginRepository_1 = require("../../pluginManagement/pluginRepository");
const deepClone_1 = require("../deepClone");
const performanceIds_1 = require("../performanceIds");
async function handleRouteDiscoveryDone(handledRoutes) {
    /** protect from unwanted behavior */
    perf_hooks_1.performance.mark('startRouteDonePlugins');
    performanceIds_1.performanceIds.add('RouteDonePlugins');
    const clone = deepClone_1.deepClone(handledRoutes);
    await Promise.all(Object.values(pluginRepository_1.plugins.routeDiscoveryDone).map((plugin) => plugin(clone)));
    perf_hooks_1.performance.mark('stopRouteDonePlugins');
}
exports.handleRouteDiscoveryDone = handleRouteDiscoveryDone;
//# sourceMappingURL=handleRouteDiscoveryDone.js.map