"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.contentToHTML = void 0;
const pluginRepository_1 = require("../../pluginManagement/pluginRepository");
const log_1 = require("../../utils/log");
async function contentToHTML(extension, fileContent, route) {
    extension = extension.trim().toLowerCase();
    let plugin = pluginRepository_1.plugins.fileHandler[extension];
    if (!plugin) {
        /** find by alternate extensions */
        const t = Object.entries(pluginRepository_1.plugins.fileHandler).find(([name, pl]) => pl[pluginRepository_1.AlternateExtensionsForFilePlugin] && pl[pluginRepository_1.AlternateExtensionsForFilePlugin].includes(extension));
        if (t.length) {
            plugin = t[1];
        }
        else {
            throw new log_1.logError(`unknown filetype ${extension}`);
        }
    }
    return plugin(fileContent, route);
}
exports.contentToHTML = contentToHTML;
//# sourceMappingURL=handleFile.js.map